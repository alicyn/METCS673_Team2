{"version":3,"sources":["project.jsx","stories.jsx"],"names":[],"mappings":"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","file":"project.js","sourcesContent":["class ReactApp extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      user_email: 'hello@example.com',\n      projects: [],\n      project_idx: null,\n      progress: 44,\n      add_project: false,\n      view_project: false,\n      edit_project: false\n    };\n\n    this.p1_material_object = null;\n\n    // bind callback so that 'this' works when called from different object\n    this.addProjectHandler= this.addProjectHandler.bind(this);\n    this.updateProjectHandler= this.updateProjectHandler.bind(this);\n\n    this.db = this.props.firebase.database();\n  }\n\n  addProjectHandler(project) {\n    console.log(\"Add new \", project);\n    var result = this.firebaseProjects.push(project);\n    console.log(\"result: \", result);\n\n    this.setState({'add_project': false});\n    this.loadProjects();\n  }\n\n  updateProjectHandler(project, firebase_key) {\n    console.log(\"Updating: \", project);\n    var updates = {};\n    updates['/app/projects/' + firebase_key] = project;\n    console.log(updates);\n \n    this.db.ref().update(updates);\n\n    this.setState({'edit_project': false});\n    this.loadProjects();\n  }\n\n  componentWillMount() {\n    // Based on this SO answer, I dediced to sign in anonymously:\n    this.props.firebase.auth().signInAnonymously().catch(function(error) {\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      console.log(errorCode, errorMessage);\n    });\n\n    this.firebaseProjects = this.db.ref('app/projects');\n\n    this.loadProjects();\n  }\n\n\n  loadProjects(){\n    this.firebaseProjects.on('value', function(dataSnapshot) {\n      var items = [];\n      dataSnapshot.forEach(function(childSnapshot) {\n        var item = childSnapshot.val();\n        item['firebase_key'] = childSnapshot.key;\n        items.push(item);\n      });\n\n      this.setState({\n        projects: items\n      });\n     }.bind(this));\n  }\n\n  componentDidMount(){\n    var self = this;\n    var user = self.props.firebase.auth().currentUser;\n\n    if (user != null) {\n      user.providerData.forEach(function (profile) {\n        console.log(\"Sign-in provider: \"+profile.providerId);\n        console.log(\"  Provider-specific UID: \"+profile.uid);\n        console.log(\"  Name: \"+profile.displayName);\n        console.log(\"  Email: \"+profile.email);\n        console.log(\"  Photo URL: \"+profile.photoURL);\n\n        self.setState({\n          user_email: profile.email\n        })\n      });\n    }else{\n      console.log('no user :(');\n\n    }\n\n    // After material design initializes, we save the reference\n    self.p1.addEventListener('mdl-componentupgraded', function() {\n        self.p1_material_object = this.MaterialProgress;\n        self.p1_material_object.setProgress(self.state.progress);\n    });\n\n  }\n\n\n  componentDidUpdate(prevProps, prevState){\n      var self = this;\n      if(self.p1_material_object){\n        self.p1_material_object.setProgress(self.state.progress);\n      }\n    }\n\n\n  render(){\n    var self = this;\n\n    var projects_table = (\n      <table className=\"mdl-data-table mdl-js-data-table mdl-shadow--2dp\">\n        <thead>\n          <tr>\n            <th className=\"mdl-data-table__cell--non-numeric\">Project</th>\n            <th>Start Date</th>\n            <th>End Date</th>\n            <th>Status</th>\n            <th>Description</th>\n            <th>Actions</th>\n          </tr>\n         </thead>\n        <tbody>\n        {\n          self.state.projects.map(function(item, index){\n            var viewProjectHandler = function(){\n              self.setState({ view_project: true , project_idx: index});\n            }\n            var editProjectHandler = function(){\n              self.setState({ edit_project: true , project_idx: index});\n            }\n            return (\n              <tr key={item.firebase_key}>\n                <td className=\"mdl-data-table__cell--non-numeric\">\n                  {item.name} {(self.state.project_idx === index) ? \"<--\" : null}\n                </td>\n                <td>{item.start_date}</td>\n                <td>{item.end_date}</td>\n                <td>{item.status}</td>\n                <td>{item.desc}</td>\n                <td>\n                  <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n                  onClick={viewProjectHandler}\n                  >\n                  View</button>\n                  &nbsp;\n                  <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\">\n                  Delete\n                  </button>\n                  <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n                  onClick={editProjectHandler}\n                  >\n                  Edit\n                  </button>\n                </td>\n              </tr>\n            );\n          })\n        }\n        </tbody>\n      </table>\n    );\n\n    var showFormHandler = function(e){\n      self.setState({ add_project: true });\n    }\n\n    var showProjectsHandler = function(e){\n      self.setState({ add_project: false });\n    }\n\n    var project = null;\n    if((self.state.project_idx !== null) && self.state.projects.length > 0 ){\n      project = self.state.projects[self.state.project_idx];\n    }\n\n    return (\n      <div className=\"demo-layout mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header\">\n        <TopBar/>\n        <SideBar user_email= { this.state.user_email } />\n        <main className=\"mdl-layout__content mdl-color--grey-100\">\n          <div className=\"demo-graphs mdl-shadow--2dp mdl-color--white mdl-cell mdl-cell--8-col\">\n            <div className=\"mdl-cell mdl-cell--4-col\">\n              <button\n                className=\"mdl-button mdl-js-button mdl-button--raised\"\n                onClick={showProjectsHandler}\n              >\n                List Projects\n              </button>\n              &nbsp;\n              <button\n                className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n                onClick={showFormHandler}\n              >\n                Add Project\n              </button>\n            </div>\n          </div>    \n          <div className=\"demo-graphs mdl-shadow--2dp mdl-color--white mdl-cell mdl-cell--8-col\">\n            { this.state.add_project ? (<AddProjectForm saveProjectHandler={self.addProjectHandler} />):\n               (this.state.edit_project ? (<AddProjectForm saveProjectHandler={self.updateProjectHandler} project={project} />): projects_table)\n            }\n\n            {/* If view is clicked, then display user stories table */}\n            {\n              (project && self.state.view_project) ?\n              <UserStories project={project} db={self.db}/>\n              : <p>View Project to see stories.</p>}\n            <p>Progress:</p>\n            <div ref={(ref)=>this.p1 = ref} className=\"mdl-progress mdl-js-progress\"></div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nclass TopBar extends React.Component {\n\n  render() {\n    return (\n      <header className=\"demo-header mdl-layout__header mdl-color--grey-100 mdl-color-text--grey-600\">\n        <div className=\"mdl-layout__header-row\">\n          <span className=\"mdl-layout-title\">Project Management Tool</span>\n          <div className=\"mdl-layout-spacer\"></div>\n          <div className=\"mdl-textfield mdl-js-textfield mdl-textfield--expandable\">\n            <label className=\"mdl-button mdl-js-button mdl-button--icon\" htmlFor=\"search\">\n              <i className=\"material-icons\">search</i>\n            </label>\n            <div className=\"mdl-textfield__expandable-holder\">\n              <input className=\"mdl-textfield__input\" type=\"text\" id=\"search\"/>\n              <label className=\"mdl-textfield__label\" htmlFor=\"search\">Enter your query...</label>\n            </div>\n          </div>\n          <button className=\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\" id=\"hdrbtn\">\n            <i className=\"material-icons\">more_vert</i>\n          </button>\n          <ul className=\"mdl-menu mdl-js-menu mdl-js-ripple-effect mdl-menu--bottom-right\" htmlFor=\"hdrbtn\">\n            <li className=\"mdl-menu__item\">About</li>\n            <li className=\"mdl-menu__item\">Contact</li>\n            <li className=\"mdl-menu__item\">Legal information</li>\n          </ul>\n        </div>\n      </header>\n    );\n  }\n\n}\n\nclass SideBar extends React.Component {\n  render(){\n    return (\n      <div className=\"demo-drawer mdl-layout__drawer mdl-color--blue-grey-900 mdl-color-text--blue-grey-50\">\n        <header className=\"demo-drawer-header\">\n          <img src=\"/images/user.jpg\" className=\"demo-avatar\"/>\n          <div className=\"demo-avatar-dropdown\">\n            <span>{this.props.user_email}</span>\n            <div className=\"mdl-layout-spacer\"></div>\n            <button id=\"accbtn\" className=\"mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon\">\n              <i className=\"material-icons\" role=\"presentation\">arrow_drop_down</i>\n              <span className=\"visuallyhidden\">Accounts</span>\n            </button>\n            <ul className=\"mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect\" htmlFor=\"accbtn\">\n              <li className=\"mdl-menu__item\">hello@example.com</li>\n              <li className=\"mdl-menu__item\">info@example.com</li>\n              <li className=\"mdl-menu__item\"><i className=\"material-icons\">add</i>Add another account...</li>\n            </ul>\n          </div>\n        </header>\n        <nav className=\"demo-navigation mdl-navigation mdl-color--blue-grey-800\">\n          <a className=\"mdl-navigation__link\" href=\"\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">home</i>Home</a>\n          <a className=\"mdl-navigation__link\" href=\"/manage\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">inbox</i>Projects</a>\n          <a className=\"mdl-navigation__link\" href=\"/chat\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">chat</i>Chat</a>\n          <a className=\"mdl-navigation__link\" href=\"/issues\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">inbox</i>Issues</a>\n          <a className=\"mdl-navigation__link\" href=\"\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">people</i>Admin</a>\n          <div className=\"mdl-layout-spacer\"></div>\n          <a className=\"mdl-navigation__link\" href=\"\"><i className=\"mdl-color-text--blue-grey-400 material-icons\" role=\"presentation\">help_outline</i><span className=\"visuallyhidden\">Help</span></a>\n        </nav>\n      </div>\n    );\n  }\n}\n\nclass AddProjectForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {},\n    };\n\n    this.state.values = this.props.project ? this.props.project: {};\n    this.state.firebase_key = this.props.project ? this.props.project.firebase_key : null;\n\n    // This is to allow it to work as callback from other context\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n\n  changeHandler(e){\n    var form = this.formRef;\n    var new_project = {};\n    var errors = {};\n\n    new_project['name'] = form.elements.namedItem(\"name\").value;\n    if (!new_project['name']){\n      errors['name'] = 'Name is required.';\n    }else if (new_project['name'].length < 5){\n      errors['name'] = 'Name must be at least 5 characters.';\n    }\n\n    new_project['start_date'] = form.elements.namedItem(\"start_date\").value;\n    if (!new_project['start_date']){\n      errors['start_date'] = 'start_date is required.';\n    }\n\n    new_project['end_date'] = form.elements.namedItem(\"end_date\").value;\n    if (!new_project['end_date']){\n      errors['end_date'] = 'end_date is required.';\n    }\n\n    new_project['status'] = form.elements.namedItem(\"status\").value;\n    if (!new_project['status']){\n      errors['status'] = 'status is required.';\n    }\n\n    new_project['desc'] = form.elements.namedItem(\"desc\").value;\n    if (!new_project['desc']){\n      errors['desc'] = 'desc is required.';\n    }\n\n    this.setState({\n      errors: errors, values: new_project\n    });\n  }\n\n\n  componentDidMount(){\n    window.componentHandler.upgradeDom();\n    console.log(window);\n\n    var picker = new MaterialDatetimePicker()    \n    .on('submit', (val) => console.log(`data: ${val}`))\n    .on('open', () => console.log('opened'))\n    .on('close', () => console.log('closed'));\n\n    this.btn.addEventListener('click', () => picker.open()); \n  }\n\n  componentDidUpdate(prevProps, prevState){\n    window.componentHandler.upgradeDom();\n  }\n\n  render() {\n    var self = this;\n    { /* Form Submit Handler */ }\n\n    var submitHandler = function(e){\n      e.preventDefault();\n      if (Object.keys(self.state.errors) == 0){\n        console.log(self.state);\n        self.props.saveProjectHandler(self.state.values, self.state.firebase_key);\n      }else{\n        var text = Object.values(self.state.errors).join(\" \");\n        alert('form still has errors: ' + text);\n      }\n    };\n\n  return (\n      <form\n        onSubmit={submitHandler}\n        \n        ref={(ref)=>this.formRef = ref}\n        >\n\n        <div className=\"mdl-textfield mdl-js-textfield\">\n          <input className=\"mdl-textfield__input\" type=\"text\" id=\"name\" name=\"name\" \n          value={this.state.values ? this.state.values.name : undefined } onChange={self.changeHandler}/>\n          <label className=\"mdl-textfield__label\" htmlFor=\"name\">Project Name ...</label>\n          {this.state.errors.name ? (\n            <span className=\"mdl-textfield__error\">{this.state.errors.name}</span>\n          ): null}\n        </div>\n\n        <div className=\"mdl-textfield mdl-js-textfield\">\n          <input className=\"mdl-textfield__input\" type=\"text\" id=\"start_date\" name=\"start_date\" \n            value={this.state.values ? this.state.values.start_date : undefined} onChange={self.changeHandler}\n          />\n          <a className=\"c-btn c-datepicker-btn\" ref={(ref)=>self.btn = ref}>Open Picker</a>\n\n          <label className=\"mdl-textfield__label\" htmlFor=\"start_date\">Start Date ...</label>\n          {this.state.errors.start_date ? (\n            <span className=\"mdl-textfield__error\">{this.state.errors.start_date}</span>\n          ): null}\n        </div>\n\n        <div className=\"mdl-textfield mdl-js-textfield\">\n          <input className=\"mdl-textfield__input\" type=\"text\" id=\"end_date\" name=\"end_date\" \n          value={this.state.values ? this.state.values.end_date : undefined} onChange={self.changeHandler}/>\n          <label className=\"mdl-textfield__label\" htmlFor=\"end_date\">End Date ...</label>\n          {this.state.errors.end_date ? (\n            <span className=\"mdl-textfield__error\">{this.state.errors.end_date}</span>\n          ): null}\n        </div>\n\n        <div className=\"mdl-selectfield mdl-js-selectfield\">\n          <label className=\"mdl-selectfield__label\" htmlFor=\"status\">Status</label>\n          <select className=\"mdl-selectfield__select\" id=\"status\" name=\"status\" \n          value={this.state.values ? this.state.values.status : undefined} onChange={self.changeHandler}>\n            <option value= \"\"></option>\n            <option value=\"Not Started\">Not Started</option>\n            <option value=\"In Progress\">In Progress</option>\n            <option value=\"Completed\">Completed</option>\n          </select>\n        </div>\n\n        <div className=\"mdl-textfield mdl-js-textfield\">\n          <input className=\"mdl-textfield__input\" type=\"text\" id=\"desc\" name=\"desc\" \n          value={this.state.values ? this.state.values.desc : undefined} onChange={self.changeHandler}/>\n          <label className=\"mdl-textfield__label\" htmlFor=\"desc\">Description</label>\n          {this.state.errors.desc ? (\n            <span className=\"mdl-textfield__error\">{this.state.errors.desc}</span>\n          ): null}\n        </div>\n\n        { /* Add Project Button */ }\n        <br/>\n        <button\n          type=\"submit\"\n          className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n          >\n          Save\n        </button>\n      </form>\n    );\n  }\n}\n\n","\nclass UserStories extends React.Component {\n\n  constructor(props) {\n    super(props);\n    console.log(props);\n\n    this.state = {\n      add_story: false,\n      story_idx: null,\n      stories: []\n    };\n\n    this.addStoryHandler= this.addStoryHandler.bind(this);\n    this.showFormHandler = this.showFormHandler.bind(this);\n  }\n\n  showFormHandler(e){\n    this.setState({ add_story: true });\n  }\n\n  addStoryHandler(story) {\n    console.log(\"Add new \", story);\n    story['project_key'] = this.props.project.firebase_key;\n    var result = this.firebaseStories.push(story);\n    this.setState({add_story: false});\n    this.loadStories();\n  }\n\n  componentWillMount() {\n    this.firebaseStories = this.props.db.ref('app/stories');\n    this.loadStories();\n  }\n\n  componentDidUpdate(prevProps, prevState){\n    if (\n      this.props.project && (\n        this.props.project.firebase_key != prevProps.project.firebase_key\n      )\n    ){\n      this.loadStories();\n    }\n  }\n\n  loadStories(){\n    var self = this;\n    console.log(self.props.project.firebase_key);\n    this.firebaseStories.orderByChild('project_key').equalTo(\n      self.props.project.firebase_key\n    ).on('value', function(dataSnapshot) {\n      var items = [];\n      dataSnapshot.forEach(function(childSnapshot) {\n        var item = childSnapshot.val();\n        item['firebase_key'] = childSnapshot.key;\n        items.push(item);\n      });\n\n      this.setState({\n        stories: items\n      });\n     }.bind(this));\n  }\n\n  render() {\n\n    var self = this;\n\n    console.log(this.props);\n\n    if (this.state.stories.length > 0){\n      var body = this.state.stories.map(function(item, index){\n        return (\n          <tr key={index}>\n            <td className=\"mdl-data-table__cell--non-numeric\">{item.name}</td>\n            <td>{item.status}</td>\n          </tr>\n        );\n      });\n\n      var stories_table = (\n        <div>\n          <table className=\"mdl-data-table mdl-js-data-table mdl-shadow--2dp\">\n            <thead>\n              <tr>\n              <th className=\"mdl-data-table__cell--non-numeric\">Name</th>\n              <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                body\n              }\n            </tbody>\n          </table>\n        </div>\n      );\n    } else {\n      stories_table = <p>No stories</p>;\n    }\n\n    var add_story_button = (\n      <button className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n      onClick={self.showFormHandler}>\n        Add Story\n      </button>\n    );\n\n    var heading = <h3> { self.props.project['name'] } </h3>;\n\n    return (\n      <div>\n        {heading}\n        {console.log(\"length\", self.state.stories.length)}\n\n        { this.state.add_story ? (\n          <AddStoryForm\n            addStoryHandler={self.addStoryHandler}\n            hideForm={\n              function() {\n                self.setState({add_story: false});\n              }\n            }\n          />\n        ): stories_table }\n\n        {add_story_button}\n    \n      </div>\n    );\n  }\n}\n\nclass AddStoryForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {},\n      values: {},\n    };\n\n    // This is to allow it to work as callback from other context\n    this.changeHandler = this.changeHandler.bind(this);\n  }\n\n  changeHandler(e){\n    var form = this.formRef;\n    var story = {};\n    var errors = {};\n\n    story['name'] = form.elements.namedItem(\"name\").value;\n    if (!story['name']){\n      errors['name'] = 'Name is required.';\n    }else if (story['name'].length < 5){\n      errors['name'] = 'Name must be at least 5 characters.';\n    }\n\n    story['status'] = form.elements.namedItem(\"status\").value;\n    if (!story['status']){\n      errors['status'] = 'status is required.';\n    }\n\n    this.setState({\n      errors: errors, values: story\n    });\n  }\n\n\n  componentDidMount(){\n    window.componentHandler.upgradeDom();\n  }\n  componentDidUpdate(prevProps, prevState){\n    window.componentHandler.upgradeDom();\n  }\n\n  render() {\n    var self = this;\n    { /* Form Submit Handler */ }\n\n    var submitHandler = function(e){\n      e.preventDefault();\n      if (Object.keys(self.state.errors) == 0){\n\n        self.props.addStoryHandler(self.state.values);\n\n        \n      }else{\n        var text = Object.values(self.state.errors).join(\" \");\n        alert('form still has errors: ' + text);\n      }\n  };\n\n  return (\n      <form  \n        onSubmit={submitHandler}\n        onChange={self.changeHandler}\n        ref={(ref)=>this.formRef = ref}\n        >\n\n        <div className=\"mdl-textfield mdl-js-textfield\">\n          <input className=\"mdl-textfield__input\" type=\"text\" id=\"name\" name=\"name\" />\n          <label className=\"mdl-textfield__label\" htmlFor=\"name\">User Story Name</label>\n          {this.state.errors.name ? (\n            <span className=\"mdl-textfield__error\">{this.state.errors.name}</span>\n          ): null}\n        </div>\n\n        <div className=\"mdl-selectfield mdl-js-selectfield\">\n          <label className=\"mdl-selectfield__label\" for=\"status\">Status</label>\n          <select className=\"mdl-selectfield__select\" id=\"status\" name=\"status\">\n            <option value=\"\"></option>\n            <option value=\"Not Started\">Not Started</option>\n            <option value=\"In Progress\">In Progress</option>\n            <option value=\"Completed\">Completed</option>\n          </select>\n        </div>\n\n        <br/>\n        <button \n          type=\"submit\"\n          className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n          >\n          Save\n        </button>\n        <button \n          type=\"button\"\n          className=\"mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect\"\n          onClick={\n            function(e){\n              e.preventDefault();\n              self.props.hideForm();\n            }\n          }\n        >\n          Cancel\n        </button>\n      </form>\n    );\n  }\n}\n"]}